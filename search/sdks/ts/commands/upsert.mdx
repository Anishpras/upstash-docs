---
title: Upsert
---

Used to add new documents or update an existing document.

<Note>
  You can only upsert documents with the same structure as defined in your collection.
</Note>

## Arguments

<ResponseField name="DocumentPayload" type="Document | Document[]" required>
  <Expandable>
    <ResponseField name="id" type="string | number" required>
    </ResponseField>
    <ResponseField name="data" type="string" required>
    </ResponseField>
    <ResponseField name="fields" type="Record<string, unknown>">
    </ResponseField>
  </Expandable>
</ResponseField>

## Response

<ResponseField type="str" required>
  `'Success'` on successful operation.
</ResponseField>

<RequestExample>

```typescript Single Document
await index.upsert({
  id: "star-wars",
  data: "Star Wars is a sci-fi space opera.",
  fields: {
    title: "Star Wars",
    genre: "sci-fi",
    category: "classic",
  },
});
```

```typescript Multiple Documents
await index.upsert([
  {
    id: "inception",
    data: "Inception is a mind-bending thriller.",
    fields: {
      title: "Inception",
      genre: "action",
      category: "modern",
    },
  },
  { ... },
]);
```

```typescript Update Document
await index.upsert({
  id: "star-wars",
  data: "Updated description for Star Wars.",
});
```

</RequestExample>
